<!doctype html>
<html>
<head>
	<title>Foresight.js Demo</title>

</head>
<body>
	
	<p>
		<noscript data-img-src="http://upload.wikimedia.org/wikipedia/commons/thumb/b/bb/Nephtheidae_komodo.jpg/320px-Nephtheidae_komodo.jpg" data-img-width="320" data-img-height="240">
			<img src="http://upload.wikimedia.org/wikipedia/commons/thumb/b/bb/Nephtheidae_komodo.jpg/320px-Nephtheidae_komodo.jpg" width="320" height="240">
		</noscript>
	</p>

	<div><span><span></span></span></div>

	<pre id="info"></pre>

	<script>
		log = [];
		
		initElementIteration = function() {
			iterateChildNodes( document.body );
		};
	
		iterateChildNodes = function( node ) {
			log.push( node.nodeName );
			if ( node.nodeName !== '#text' ) {
				if( node.nodeName === 'NOSCRIPT' ) {
					log.push( 'get image' );
				} else if ( node.hasChildNodes ) {
					for ( var x = 0, l = node.childNodes.length; x < l; x++ ) {
						iterateChildNodes( node.childNodes.item( x ) );
					}
				}
			}
		};
		
		initElementIteration();
		
		document.getElementById('info').innerHTML = log.join( '<br>' );
	</script>
	
</body>
</html>